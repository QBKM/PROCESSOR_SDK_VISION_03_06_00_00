<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BSP_DRV_IOCTL_VPS_COMMON_M2M_INTF</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">BSP_DRV_IOCTL_VPS_COMMON_M2M_INTF<div class="ingroups"><a class="el" href="group___b_s_p___d_r_v___v_p_s___a_p_i.html">VPS Driver API</a> &raquo; <a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html">M2M Interface API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gacbfe2c2430dce759395a7c6c6dc1aa78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___i_o_c_t_l___v_p_s___c_o_m_m_o_n___m2_m___i_n_t_f.html#gacbfe2c2430dce759395a7c6c6dc1aa78">IOCTL_VPS_M2M_INTF_ABORT</a>&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 1U)</td></tr>
<tr class="memdesc:gacbfe2c2430dce759395a7c6c6dc1aa78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort m2m driver and dequeue all frames including those that are not processed.  <a href="#gacbfe2c2430dce759395a7c6c6dc1aa78">More...</a><br /></td></tr>
<tr class="separator:gacbfe2c2430dce759395a7c6c6dc1aa78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6b363a44787ab2f36ea86265efbdc40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___i_o_c_t_l___v_p_s___c_o_m_m_o_n___m2_m___i_n_t_f.html#gaa6b363a44787ab2f36ea86265efbdc40">IOCTL_VPS_M2M_INTF_SET_STATS_PARAMS</a>&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 2U)</td></tr>
<tr class="memdesc:gaa6b363a44787ab2f36ea86265efbdc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">IOCTL to Enable/Disable statistics collection.  <a href="#gaa6b363a44787ab2f36ea86265efbdc40">More...</a><br /></td></tr>
<tr class="separator:gaa6b363a44787ab2f36ea86265efbdc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab05914e84d05697c730b2e95421161c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___i_o_c_t_l___v_p_s___c_o_m_m_o_n___m2_m___i_n_t_f.html#gab05914e84d05697c730b2e95421161c1">IOCTL_VPS_M2M_INTF_GET_STATS</a>&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 3U)</td></tr>
<tr class="memdesc:gab05914e84d05697c730b2e95421161c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get M2M driver status information like number of requests processed.  <a href="#gab05914e84d05697c730b2e95421161c1">More...</a><br /></td></tr>
<tr class="separator:gab05914e84d05697c730b2e95421161c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb20503ea1c4a0e6162ea54f8057c77c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___i_o_c_t_l___v_p_s___c_o_m_m_o_n___m2_m___i_n_t_f.html#gacb20503ea1c4a0e6162ea54f8057c77c">IOCTL_VPS_M2M_INTF_RESET_STATS</a>&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 4U)</td></tr>
<tr class="memdesc:gacb20503ea1c4a0e6162ea54f8057c77c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the statistics, essentially sets the number statistics to 0. This ioctl can be called when there are not active or pending request in the driver. Otherwise it returns error. This ioctl cannot be called from ISR context.  <a href="#gacb20503ea1c4a0e6162ea54f8057c77c">More...</a><br /></td></tr>
<tr class="separator:gacb20503ea1c4a0e6162ea54f8057c77c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gacbfe2c2430dce759395a7c6c6dc1aa78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOCTL_VPS_M2M_INTF_ABORT&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 1U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort m2m driver and dequeue all frames including those that are not processed. </p>
<dl class="section warning"><dt>Warning</dt><dd>This command is not yet implemented. </dd>
<dd>
This command cannot be called from an ISR context.</dd></dl>
<p>This IOCTL waits for current on going/processing frame to get completed and returns all the frames from input and output queue.</p>
<p>Typically, this ioctl should be called just before deleting the driver to get all frames back from the driver</p>
<p>Since maximum FVID2_MAX_FRAME_PTR frames can be returned at a time. This function should be called in a loop until <a class="el" href="struct_fvid2___frame_list.html#a7ddb68bc95087032739409a5a2cb97c8">Fvid2_FrameList.numFrames</a> = 0 is returned or the return value is FVID2_ENO_MORE_BUFFERS in order to get back all the frames from the M2M driver.</p>
<p>This IOCTL will return processed/non-processed frames as well as all frames held inside the hardware.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdArgs</td><td>[IN] NULL </td></tr>
    <tr><td class="paramname">cmdArgsStatus</td><td>[OUT] <a class="el" href="struct_fvid2___frame_list.html" title="FVID2 frame buffer list used to exchange multiple FVID2 frames in a single driver call...">Fvid2_FrameList</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success, FVID2_ENO_MORE_BUFFERS if all buffers are returned, other error values on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gab05914e84d05697c730b2e95421161c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOCTL_VPS_M2M_INTF_GET_STATS&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 3U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get M2M driver status information like number of requests processed. </p>
<dl class="section warning"><dt>Warning</dt><dd>This command cannot be called from an ISR context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdArgs</td><td>[IN] <a class="el" href="struct_vps___m2m_intf_stats.html" title="M2m status structure. Used to get different status information. Used as an argument for IOCTL_VPS_M2M...">Vps_M2mIntfStats</a> </td></tr>
    <tr><td class="paramname">cmdArgsStatus</td><td>[OUT] NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success, other error values on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gacb20503ea1c4a0e6162ea54f8057c77c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOCTL_VPS_M2M_INTF_RESET_STATS&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 4U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the statistics, essentially sets the number statistics to 0. This ioctl can be called when there are not active or pending request in the driver. Otherwise it returns error. This ioctl cannot be called from ISR context. </p>
<dl class="section warning"><dt>Warning</dt><dd>This command cannot be called from an ISR context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdArgs</td><td>[IN] NULL </td></tr>
    <tr><td class="paramname">cmdArgsStatus</td><td>[OUT] NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success, other error values on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa6b363a44787ab2f36ea86265efbdc40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOCTL_VPS_M2M_INTF_SET_STATS_PARAMS&#160;&#160;&#160;(<a class="el" href="group___b_s_p___d_r_v___v_p_s___m2_m___i_n_t_f___a_p_i.html#gabad259013f800d4a78fafcf813b3a886">VPS_M2M_INTF_IOCTL_BASE</a> + 2U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IOCTL to Enable/Disable statistics collection. </p>
<p>Once enabled, driver will start collecting different statistics and application can these statistics using <a class="el" href="group___b_s_p___d_r_v___i_o_c_t_l___v_p_s___c_o_m_m_o_n___m2_m___i_n_t_f.html#gab05914e84d05697c730b2e95421161c1" title="Get M2M driver status information like number of requests processed. ">IOCTL_VPS_M2M_INTF_GET_STATS</a> ioctl</p>
<p>The maximum m2m requests for which driver collects the sequence is specified at the create time in maxStatsInst member of the <a class="el" href="struct_vps___m2m_intf_create_params.html" title="M2M create parameter structure to be passed to the driver at the time of mem to mem driver create cal...">Vps_M2mIntfCreateParams</a>. If more requests are are submitted to the driver, driver will wrap around and start overwriting statistics.</p>
<p>Call <a class="el" href="group___b_s_p___d_r_v___i_o_c_t_l___v_p_s___c_o_m_m_o_n.html#gaf7b6225091019acea1d26cfa01171b4d" title="Register an application function (pointer) for getting the time stamp value used at the frame complet...">IOCTL_VPS_REGISTER_TIMESTAMP_FXN</a> IOCTL to use App provided time function, other driver uses OSAL layer timer function BspOsal_getCurTimeInUsec.</p>
<dl class="section warning"><dt>Warning</dt><dd>This command cannot be called from an ISR context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdArgs</td><td>[IN] <a class="el" href="struct_vps___m2m_intf_stats_params.html" title="Structure for timestamp parameters. Passed as an argument to IOCTL_VPS_M2M_INTF_REG_TS_FXN ioctl...">Vps_M2mIntfStatsParams</a> </td></tr>
    <tr><td class="paramname">cmdArgsStatus</td><td>[OUT] NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success, other error values on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2019, Texas Instruments Incorporated</small>
</body>
</html>
