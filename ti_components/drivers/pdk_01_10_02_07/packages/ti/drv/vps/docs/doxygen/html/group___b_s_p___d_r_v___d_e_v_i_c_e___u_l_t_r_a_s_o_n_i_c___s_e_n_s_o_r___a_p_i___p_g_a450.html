<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PGA450 Ultra-sonic Sensor API</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PGA450 Ultra-sonic Sensor API<div class="ingroups"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___a_p_i.html">External Device Interface API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:bsp__pga450_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bsp__pga450_8h.html">bsp_pga450.h</a></td></tr>
<tr class="memdesc:bsp__pga450_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">PGA450 Ultra-sonic Sensor API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_bsp___pga450_init_params.html">Bsp_Pga450InitParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance specific parameters used at init call.  <a href="struct_bsp___pga450_init_params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga4d0b6cb9a3ec77daf4a2a971ac626794"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4d0b6cb9a3ec77daf4a2a971ac626794"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga4d0b6cb9a3ec77daf4a2a971ac626794">BSP_PGA450_MAX_UART_INST</a>&#160;&#160;&#160;(1U)</td></tr>
<tr class="memdesc:ga4d0b6cb9a3ec77daf4a2a971ac626794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum UART driver instance to create at the time of init. <br /></td></tr>
<tr class="separator:ga4d0b6cb9a3ec77daf4a2a971ac626794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb3ef180284c78b5987950f1664e2340"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabb3ef180284c78b5987950f1664e2340"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#gabb3ef180284c78b5987950f1664e2340">BSP_PGA450_MAX_DEVICE</a>&#160;&#160;&#160;(16U)</td></tr>
<tr class="memdesc:gabb3ef180284c78b5987950f1664e2340"><td class="mdescLeft">&#160;</td><td class="mdescRight">At max we can connect 16 device to a single UART. <br /></td></tr>
<tr class="separator:gabb3ef180284c78b5987950f1664e2340"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf87f4c74c4a638119ebfb868aa669b88"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf87f4c74c4a638119ebfb868aa669b88"></a>
typedef Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#gaf87f4c74c4a638119ebfb868aa669b88">UltraSensor_Handle</a></td></tr>
<tr class="memdesc:gaf87f4c74c4a638119ebfb868aa669b88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sensor Driver handle. <br /></td></tr>
<tr class="separator:gaf87f4c74c4a638119ebfb868aa669b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga3db0cc196a7bbe1f2a7caacfb8ad9c08"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga3db0cc196a7bbe1f2a7caacfb8ad9c08">Bsp_Pga450DistanceMode</a> { <a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#gga3db0cc196a7bbe1f2a7caacfb8ad9c08ad281438d7623c073aacd322835143c2d">BSP_PGA450_DISTANCE_MODE_SHORT</a> = 0x01U, 
<a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#gga3db0cc196a7bbe1f2a7caacfb8ad9c08ab82bf997a4204fdf3da3c74e14213d3c">BSP_PGA450_DISTANCE_MODE_LONG</a> = 0x02U
 }</td></tr>
<tr class="memdesc:ga3db0cc196a7bbe1f2a7caacfb8ad9c08"><td class="mdescLeft">&#160;</td><td class="mdescRight">PGA450 distance mode.  <a href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga3db0cc196a7bbe1f2a7caacfb8ad9c08">More...</a><br /></td></tr>
<tr class="separator:ga3db0cc196a7bbe1f2a7caacfb8ad9c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6f747d9acb18f9d2e3e20270ab921c00"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga6f747d9acb18f9d2e3e20270ab921c00">Bsp_pga450Init</a> (const <a class="el" href="struct_bsp___pga450_init_params.html">Bsp_Pga450InitParams</a> *initPrms)</td></tr>
<tr class="memdesc:ga6f747d9acb18f9d2e3e20270ab921c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">PGA450 Ultra-sonic sensor driver init function.  <a href="#ga6f747d9acb18f9d2e3e20270ab921c00">More...</a><br /></td></tr>
<tr class="separator:ga6f747d9acb18f9d2e3e20270ab921c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2b0fa19acb9891d2e033c681a7cb665"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#gaf2b0fa19acb9891d2e033c681a7cb665">Bsp_pga450DeInit</a> (void)</td></tr>
<tr class="memdesc:gaf2b0fa19acb9891d2e033c681a7cb665"><td class="mdescLeft">&#160;</td><td class="mdescRight">PGA450 Ultra-sonic sensor driver deinit function.  <a href="#gaf2b0fa19acb9891d2e033c681a7cb665">More...</a><br /></td></tr>
<tr class="separator:gaf2b0fa19acb9891d2e033c681a7cb665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga903d7cf6584bb9b21624fd6dc379281a"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga903d7cf6584bb9b21624fd6dc379281a">Bsp_pga450ProbeDevice</a> (UInt32 uartInstId, UInt8 deviceId)</td></tr>
<tr class="memdesc:ga903d7cf6584bb9b21624fd6dc379281a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Probes an UART bus for a specific device slave address.  <a href="#ga903d7cf6584bb9b21624fd6dc379281a">More...</a><br /></td></tr>
<tr class="separator:ga903d7cf6584bb9b21624fd6dc379281a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb1f8910cbe0c1365ad0b696f326e9a6"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#gacb1f8910cbe0c1365ad0b696f326e9a6">Bsp_pga450GetMeasurement</a> (UInt32 uartInstId, UInt8 deviceId, UInt8 distMode)</td></tr>
<tr class="memdesc:gacb1f8910cbe0c1365ad0b696f326e9a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the distance measurement, receives the measured data and converts the measured data and returns in cm.  <a href="#gacb1f8910cbe0c1365ad0b696f326e9a6">More...</a><br /></td></tr>
<tr class="separator:gacb1f8910cbe0c1365ad0b696f326e9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05bf3694cf12d05e2cce0e36dc956a49"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga05bf3694cf12d05e2cce0e36dc956a49">BspPga450InitParams_init</a> (<a class="el" href="struct_bsp___pga450_init_params.html">Bsp_Pga450InitParams</a> *initPrms)</td></tr>
<tr class="memdesc:ga05bf3694cf12d05e2cce0e36dc956a49"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_bsp___pga450_init_params.html" title="Instance specific parameters used at init call. ">Bsp_Pga450InitParams</a> structure init function.  <a href="#ga05bf3694cf12d05e2cce0e36dc956a49">More...</a><br /></td></tr>
<tr class="separator:ga05bf3694cf12d05e2cce0e36dc956a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This modules define API specific to PGA450 Ultra-sonic Sensor. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga3db0cc196a7bbe1f2a7caacfb8ad9c08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga3db0cc196a7bbe1f2a7caacfb8ad9c08">Bsp_Pga450DistanceMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PGA450 distance mode. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga3db0cc196a7bbe1f2a7caacfb8ad9c08ad281438d7623c073aacd322835143c2d"></a>BSP_PGA450_DISTANCE_MODE_SHORT&#160;</td><td class="fielddoc">
<p>Used for short distance measurement. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga3db0cc196a7bbe1f2a7caacfb8ad9c08ab82bf997a4204fdf3da3c74e14213d3c"></a>BSP_PGA450_DISTANCE_MODE_LONG&#160;</td><td class="fielddoc">
<p>Used for long distance measurement. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf2b0fa19acb9891d2e033c681a7cb665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 Bsp_pga450DeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PGA450 Ultra-sonic sensor driver deinit function. </p>
<p>Uninitializes the PGA450 driver and deletes the UART driver and should be called during system shutdown. Should not be called if <a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga6f747d9acb18f9d2e3e20270ab921c00" title="PGA450 Ultra-sonic sensor driver init function. ">Bsp_pga450Init()</a> is not called.</p>
<dl class="section return"><dt>Returns</dt><dd>BSP_SOK on success, else appropriate BSP error code on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gacb1f8910cbe0c1365ad0b696f326e9a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 Bsp_pga450GetMeasurement </td>
          <td>(</td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>uartInstId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>distMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the distance measurement, receives the measured data and converts the measured data and returns in cm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uartInstId</td><td>[IN] UART instance to which the sensor is connected to. Refer UART ID defined in <a class="el" href="bsp__device_8h.html" title="External Video Device API. ">bsp_device.h</a> file. </td></tr>
    <tr><td class="paramname">deviceId</td><td>[IN] Sensor device ID. </td></tr>
    <tr><td class="paramname">distMode</td><td>[IN] Distance mode. Refer <a class="el" href="group___b_s_p___d_r_v___d_e_v_i_c_e___u_l_t_r_a_s_o_n_i_c___s_e_n_s_o_r___a_p_i___p_g_a450.html#ga3db0cc196a7bbe1f2a7caacfb8ad9c08" title="PGA450 distance mode. ">Bsp_Pga450DistanceMode</a> for valid values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the measured data in cm. Returns negative value in case of error (RX error, checksum error) or timeout. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6f747d9acb18f9d2e3e20270ab921c00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 Bsp_pga450Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_bsp___pga450_init_params.html">Bsp_Pga450InitParams</a> *&#160;</td>
          <td class="paramname"><em>initPrms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PGA450 Ultra-sonic sensor driver init function. </p>
<p>Initializes the PGA450 driver. This function should be called before calling any of sensor API's and should be called only once. Also this API should be called after initializing UART driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initPrms</td><td>[IN] Pointer to the init parameter containing instance specific information</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BSP_SOK on success else appropriate BSP error code on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga903d7cf6584bb9b21624fd6dc379281a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 Bsp_pga450ProbeDevice </td>
          <td>(</td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>uartInstId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt8&#160;</td>
          <td class="paramname"><em>deviceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Probes an UART bus for a specific device slave address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uartInstId</td><td>[IN] UART instance to which the sensor is connected to. Refer UART ID defined in <a class="el" href="bsp__device_8h.html" title="External Video Device API. ">bsp_device.h</a> file. </td></tr>
    <tr><td class="paramname">deviceId</td><td>[IN] Sensor device ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BSP_SOK device found, else device not detected. </dd></dl>

</div>
</div>
<a class="anchor" id="ga05bf3694cf12d05e2cce0e36dc956a49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void BspPga450InitParams_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp___pga450_init_params.html">Bsp_Pga450InitParams</a> *&#160;</td>
          <td class="paramname"><em>initPrms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="struct_bsp___pga450_init_params.html" title="Instance specific parameters used at init call. ">Bsp_Pga450InitParams</a> structure init function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initPrms</td><td>[IN] Pointer to <a class="el" href="struct_bsp___pga450_init_params.html" title="Instance specific parameters used at init call. ">Bsp_Pga450InitParams</a> structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2019, Texas Instruments Incorporated</small>
</body>
</html>
