<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Message exchange API</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Message exchange API<div class="ingroups"><a class="el" href="group___b_s_p_e_x_a_m_p_l_e___a_p_i.html">Sample Example API</a> &raquo; <a class="el" href="group___b_s_p_u_t_i_l_s___a_p_i.html">Sample Example - Utility library API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:bsputils__mbx_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bsputils__mbx_8h.html">bsputils_mbx.h</a></td></tr>
<tr class="memdesc:bsputils__mbx_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message exchange API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mailbox handle.  <a href="struct_bsp_utils___mbx_hndl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_bsp_utils___msg_hndl.html">BspUtils_MsgHndl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message structure.  <a href="struct_bsp_utils___msg_hndl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaefa4b30249aaeab553f38f2aa54eb7f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaefa4b30249aaeab553f38f2aa54eb7f7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gaefa4b30249aaeab553f38f2aa54eb7f7">BSPUTILS_MBX_RECV_QUE_LEN_MAX</a>&#160;&#160;&#160;((UInt32) 1024U)</td></tr>
<tr class="memdesc:gaefa4b30249aaeab553f38f2aa54eb7f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum receive que length. <br /></td></tr>
<tr class="separator:gaefa4b30249aaeab553f38f2aa54eb7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dd3c851a388f360c26dc08a28265a5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3dd3c851a388f360c26dc08a28265a5c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga3dd3c851a388f360c26dc08a28265a5c">BSPUTILS_MBX_ACK_QUE_LEN_MAX</a>&#160;&#160;&#160;((UInt32) 2U)</td></tr>
<tr class="memdesc:ga3dd3c851a388f360c26dc08a28265a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum acknowledgement que length. <br /></td></tr>
<tr class="separator:ga3dd3c851a388f360c26dc08a28265a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f4797e2ce7fb0a88d0523ee0f5a126a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6f4797e2ce7fb0a88d0523ee0f5a126a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga6f4797e2ce7fb0a88d0523ee0f5a126a">BSPUTILS_MBX_FLAG_WAIT_ACK</a>&#160;&#160;&#160;((UInt32) 0x01U)</td></tr>
<tr class="memdesc:ga6f4797e2ce7fb0a88d0523ee0f5a126a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message flag: wait for ACK when this flag is set. <br /></td></tr>
<tr class="separator:ga6f4797e2ce7fb0a88d0523ee0f5a126a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadce7ef998d26247f98df057629c1de4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadce7ef998d26247f98df057629c1de4a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gadce7ef998d26247f98df057629c1de4a">BspUtils_msgGetCmd</a>(pMsg)&#160;&#160;&#160;((pMsg)-&gt;cmd)</td></tr>
<tr class="memdesc:gadce7ef998d26247f98df057629c1de4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get 32-bit command from message pointer. <br /></td></tr>
<tr class="separator:gadce7ef998d26247f98df057629c1de4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58d44a9d5729f6852a822d24f1d216c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga58d44a9d5729f6852a822d24f1d216c3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga58d44a9d5729f6852a822d24f1d216c3">BspUtils_msgGetPrm</a>(pMsg)&#160;&#160;&#160;((pMsg)-&gt;pPrm)</td></tr>
<tr class="memdesc:ga58d44a9d5729f6852a822d24f1d216c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get 32-bit parameter pointer from message pointer. <br /></td></tr>
<tr class="separator:ga58d44a9d5729f6852a822d24f1d216c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa977477ae85b960d8322fc73e1bdd72c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa977477ae85b960d8322fc73e1bdd72c"></a>
Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gaa977477ae85b960d8322fc73e1bdd72c">BspUtils_mbxInit</a> (void)</td></tr>
<tr class="memdesc:gaa977477ae85b960d8322fc73e1bdd72c"><td class="mdescLeft">&#160;</td><td class="mdescRight">One-time system init for mailbox subsystem. <br /></td></tr>
<tr class="separator:gaa977477ae85b960d8322fc73e1bdd72c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5bedc7679bee0b6b324c6b05b841467"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad5bedc7679bee0b6b324c6b05b841467"></a>
Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gad5bedc7679bee0b6b324c6b05b841467">BspUtils_mbxDeInit</a> (void)</td></tr>
<tr class="memdesc:gad5bedc7679bee0b6b324c6b05b841467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free's resources allocated during <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gaa977477ae85b960d8322fc73e1bdd72c" title="One-time system init for mailbox subsystem. ">BspUtils_mbxInit()</a> <br /></td></tr>
<tr class="separator:gad5bedc7679bee0b6b324c6b05b841467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a4f25ecf64a627c757e94003e194215"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga8a4f25ecf64a627c757e94003e194215">BspUtils_mbxCreate</a> (<a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *pMbx)</td></tr>
<tr class="memdesc:ga8a4f25ecf64a627c757e94003e194215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create's a message box and related resources.  <a href="#ga8a4f25ecf64a627c757e94003e194215">More...</a><br /></td></tr>
<tr class="separator:ga8a4f25ecf64a627c757e94003e194215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75c820603c700e343a9b1fd23804a359"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga75c820603c700e343a9b1fd23804a359">BspUtils_mbxDelete</a> (<a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *pMbx)</td></tr>
<tr class="memdesc:ga75c820603c700e343a9b1fd23804a359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free's resources allocated during <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga8a4f25ecf64a627c757e94003e194215" title="Create&#39;s a message box and related resources. ">BspUtils_mbxCreate()</a>  <a href="#ga75c820603c700e343a9b1fd23804a359">More...</a><br /></td></tr>
<tr class="separator:ga75c820603c700e343a9b1fd23804a359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac39d3813c1ac8a561923e93ca079e8f4"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gac39d3813c1ac8a561923e93ca079e8f4">BspUtils_mbxSendMsg</a> (<a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *pFrom, <a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *pTo, UInt32 cmd, void *pPrm, UInt32 msgFlags)</td></tr>
<tr class="memdesc:gac39d3813c1ac8a561923e93ca079e8f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send message from one mailbox to another mailbox.  <a href="#gac39d3813c1ac8a561923e93ca079e8f4">More...</a><br /></td></tr>
<tr class="separator:gac39d3813c1ac8a561923e93ca079e8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9d6fd7977cb7438f1bf8455ab7f50f5"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gae9d6fd7977cb7438f1bf8455ab7f50f5">BspUtils_mbxSendCmd</a> (<a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *pTo, UInt32 cmd)</td></tr>
<tr class="memdesc:gae9d6fd7977cb7438f1bf8455ab7f50f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send command to another mail box.  <a href="#gae9d6fd7977cb7438f1bf8455ab7f50f5">More...</a><br /></td></tr>
<tr class="separator:gae9d6fd7977cb7438f1bf8455ab7f50f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80996ae3630817e7955741edf8e53614"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga80996ae3630817e7955741edf8e53614">BspUtils_mbxRecvMsg</a> (<a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *pMbxHndl, <a class="el" href="struct_bsp_utils___msg_hndl.html">BspUtils_MsgHndl</a> **pMsg, UInt32 timeout)</td></tr>
<tr class="memdesc:ga80996ae3630817e7955741edf8e53614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for a message to arrive.  <a href="#ga80996ae3630817e7955741edf8e53614">More...</a><br /></td></tr>
<tr class="separator:ga80996ae3630817e7955741edf8e53614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadccc99a7e1d857f1b721372548b5b67e"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gadccc99a7e1d857f1b721372548b5b67e">BspUtils_mbxAckOrFreeMsg</a> (<a class="el" href="struct_bsp_utils___msg_hndl.html">BspUtils_MsgHndl</a> *pMsg, Int32 ackRetVal)</td></tr>
<tr class="memdesc:gadccc99a7e1d857f1b721372548b5b67e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acks or frees a message depending on flags set in the message.  <a href="#gadccc99a7e1d857f1b721372548b5b67e">More...</a><br /></td></tr>
<tr class="separator:gadccc99a7e1d857f1b721372548b5b67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b500634187e4a9523ee7fe2c91766ad"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga9b500634187e4a9523ee7fe2c91766ad">BspUtils_mbxWaitCmd</a> (<a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *pMbxHndl, <a class="el" href="struct_bsp_utils___msg_hndl.html">BspUtils_MsgHndl</a> **pMsg, UInt32 waitCmd)</td></tr>
<tr class="memdesc:ga9b500634187e4a9523ee7fe2c91766ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until command of value 'cmdToWait' is received.  <a href="#ga9b500634187e4a9523ee7fe2c91766ad">More...</a><br /></td></tr>
<tr class="separator:ga9b500634187e4a9523ee7fe2c91766ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga729a0cdef426f13d70032dca904d8384"><td class="memItemLeft" align="right" valign="top">UInt32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga729a0cdef426f13d70032dca904d8384">BspUtils_mbxGetFreeMsgCount</a> (void)</td></tr>
<tr class="memdesc:ga729a0cdef426f13d70032dca904d8384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of free messages in the mailbox.  <a href="#ga729a0cdef426f13d70032dca904d8384">More...</a><br /></td></tr>
<tr class="separator:ga729a0cdef426f13d70032dca904d8384"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>APIs from this file are used to exchange messages between two tasks in the links and chains examples.</p>
<p>A message consists of a 32-bit command and optional 32-bit parameter value.</p>
<p>The 32-bit command is defined by the user.</p>
<p>The 32-bit parameter could inturn point to a bigger data structure as defined by user.</p>
<p>The APIs allow a user to send a message and wait for ACK before proceeding further.</p>
<p>Internally message passing is implemented using queue's </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadccc99a7e1d857f1b721372548b5b67e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_mbxAckOrFreeMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___msg_hndl.html">BspUtils_MsgHndl</a> *&#160;</td>
          <td class="paramname"><em>pMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Int32&#160;</td>
          <td class="paramname"><em>ackRetVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acks or frees a message depending on flags set in the message. </p>
<p>if BSPUTILS_MBX_FLAG_WAIT_ACK is set, then an ack message is sent to the sender</p>
<p>if BSPUTILS_MBX_FLAG_WAIT_ACK is not set, then it frees the memory associated with this message</p>
<p>User MUST call this API for every message received using <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga80996ae3630817e7955741edf8e53614" title="Waits for a message to arrive. ">BspUtils_mbxRecvMsg()</a> or <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga9b500634187e4a9523ee7fe2c91766ad" title="Waits until command of value &#39;cmdToWait&#39; is received. ">BspUtils_mbxWaitCmd()</a> else message will not be free'ed and there will be memory leak.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMsg</td><td>[IN] Message to ACK'ed or free'ed </td></tr>
    <tr><td class="paramname">ackRetVal</td><td>[IN] return code that is sent to the sender if an ack message is sent to the sender</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga8a4f25ecf64a627c757e94003e194215"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_mbxCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *&#160;</td>
          <td class="paramname"><em>pMbx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create's a message box and related resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMbx</td><td>[OUT] Created handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga75c820603c700e343a9b1fd23804a359"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_mbxDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *&#160;</td>
          <td class="paramname"><em>pMbx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free's resources allocated during <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#ga8a4f25ecf64a627c757e94003e194215" title="Create&#39;s a message box and related resources. ">BspUtils_mbxCreate()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMbx</td><td>[IN] Mail box handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga729a0cdef426f13d70032dca904d8384"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt32 BspUtils_mbxGetFreeMsgCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of free messages in the mailbox. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of free messages in the mailbox on success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga80996ae3630817e7955741edf8e53614"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_mbxRecvMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *&#160;</td>
          <td class="paramname"><em>pMbxHndl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___msg_hndl.html">BspUtils_MsgHndl</a> **&#160;</td>
          <td class="paramname"><em>pMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for a message to arrive. </p>
<p>When 'timeout' is BIOS_WAIT_FOREVER, it waits until atleast one message arrives</p>
<p>When 'timeout' is BIOS_NO_WAIT, it just checks for any available message. if no message is received then it return's with error</p>
<p>User MUST call <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gadccc99a7e1d857f1b721372548b5b67e" title="Acks or frees a message depending on flags set in the message. ">BspUtils_mbxAckOrFreeMsg()</a> for every received message, else message will not be free'ed and there will be memory leak.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMbxHndl</td><td>[IN] Receiver mail box </td></tr>
    <tr><td class="paramname">pMsg</td><td>[OUT] received message </td></tr>
    <tr><td class="paramname">timeout</td><td>[IN] BIOS_WAIT_FOREVER or BIOS_NO_WAIT</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success else failure </dd></dl>

</div>
</div>
<a class="anchor" id="gae9d6fd7977cb7438f1bf8455ab7f50f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_mbxSendCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *&#160;</td>
          <td class="paramname"><em>pTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send command to another mail box. </p>
<p>Same as <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gac39d3813c1ac8a561923e93ca079e8f4" title="Send message from one mailbox to another mailbox. ">BspUtils_mbxSendMsg()</a> except,</p><ul>
<li>it can be called from interrupt context as well as task, SWI context</li>
<li>ACK message cannot received</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTo</td><td>[IN] Receiver mail box handle </td></tr>
    <tr><td class="paramname">cmd</td><td>[IN] Command to be sent</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_EFAIL in case message could not be sent </dd></dl>

</div>
</div>
<a class="anchor" id="gac39d3813c1ac8a561923e93ca079e8f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_mbxSendMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *&#160;</td>
          <td class="paramname"><em>pFrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *&#160;</td>
          <td class="paramname"><em>pTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pPrm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>msgFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send message from one mailbox to another mailbox. </p>
<p>When 'msgFlags' is BSPUTILS_MBX_FLAG_WAIT_ACK, the function waits until an ack is received</p>
<p>When 'msgFlags' is 0, the function returns after message is sent to the receiver</p>
<p>User can use 'pPrm' to pass a parameter pointer to the receiver. Its upto user to manage the memory for this parameter pointer.</p>
<p>'cmd' can be any 32-bit value that is sent to the receiver</p>
<p>When BSPUTILS_MBX_FLAG_WAIT_ACK is set, return value is the value sent via 'result' by the receiver when the receiver calls <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gadccc99a7e1d857f1b721372548b5b67e" title="Acks or frees a message depending on flags set in the message. ">BspUtils_mbxAckOrFreeMsg()</a></p>
<p>When BSPUTILS_MBX_FLAG_WAIT_ACK is not set, return value is message send status</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pFrom</td><td>[IN] Sender Mail box handle </td></tr>
    <tr><td class="paramname">pTo</td><td>[IN] Receiver mail box handle </td></tr>
    <tr><td class="paramname">cmd</td><td>[IN] 32-bit command </td></tr>
    <tr><td class="paramname">pPrm</td><td>[IN] 32-bit parameter pointer </td></tr>
    <tr><td class="paramname">msgFlags</td><td>[IN] BSPUTILS_MBX_FLAG_xxxx</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga9b500634187e4a9523ee7fe2c91766ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_mbxWaitCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___mbx_hndl.html">BspUtils_MbxHndl</a> *&#160;</td>
          <td class="paramname"><em>pMbxHndl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___msg_hndl.html">BspUtils_MsgHndl</a> **&#160;</td>
          <td class="paramname"><em>pMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>waitCmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits until command of value 'cmdToWait' is received. </p>
<p>if 'pMsg' is NULL it frees the msg internally when it is received and returns</p>
<p>if 'pMsg' is NOT NULL then it returns the received message to user. User needs to free the received message using <a class="el" href="group___b_s_p_u_t_i_l_s___m_b_x___a_p_i.html#gadccc99a7e1d857f1b721372548b5b67e" title="Acks or frees a message depending on flags set in the message. ">BspUtils_mbxAckOrFreeMsg()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMbxHndl</td><td>[IN] Receiver mail box </td></tr>
    <tr><td class="paramname">pMsg</td><td>[OUT] received message </td></tr>
    <tr><td class="paramname">waitCmd</td><td>[IN] command to wait for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FVID2_SOK on success else failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2019, Texas Instruments Incorporated</small>
</body>
</html>
