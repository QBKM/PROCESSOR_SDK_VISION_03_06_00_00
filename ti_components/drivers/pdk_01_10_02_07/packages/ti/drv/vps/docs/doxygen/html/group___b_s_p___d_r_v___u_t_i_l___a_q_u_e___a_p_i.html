<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Utils layer - Array based queue</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Utils layer - Array based queue</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue Handle.  <a href="struct_bsp_utils___que_handle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0af150551f79e1d8d0f01856021a044c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga0af150551f79e1d8d0f01856021a044c">BSPUTILS_QUE_FLAG_NO_BLOCK_QUE</a>&#160;&#160;&#160;((UInt32) 0x00000000U)</td></tr>
<tr class="separator:ga0af150551f79e1d8d0f01856021a044c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac54a91a9514fbba3841ad18d153ba0c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#gac54a91a9514fbba3841ad18d153ba0c9">BSPUTILS_QUE_FLAG_BLOCK_QUE_PUT</a>&#160;&#160;&#160;((UInt32) 0x00000001U)</td></tr>
<tr class="separator:gac54a91a9514fbba3841ad18d153ba0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a66ab266dfbcf7e0cb5b96bb3518011"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga9a66ab266dfbcf7e0cb5b96bb3518011">BSPUTILS_QUE_FLAG_BLOCK_QUE_GET</a>&#160;&#160;&#160;((UInt32) 0x00000002U)</td></tr>
<tr class="separator:ga9a66ab266dfbcf7e0cb5b96bb3518011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76850d9bcd8094586c2eca412e9f9732"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga76850d9bcd8094586c2eca412e9f9732">BSPUTILS_QUE_FLAG_BLOCK_QUE</a>&#160;&#160;&#160;((UInt32) 0x00000003U)</td></tr>
<tr class="separator:ga76850d9bcd8094586c2eca412e9f9732"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0fbe1b486db5a555378f05f13cc08aeb"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga0fbe1b486db5a555378f05f13cc08aeb">BspUtils_queCreate</a> (<a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *handle, UInt32 maxElements, Ptr queueMem, UInt32 flags)</td></tr>
<tr class="memdesc:ga0fbe1b486db5a555378f05f13cc08aeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a queue handle.  <a href="#ga0fbe1b486db5a555378f05f13cc08aeb">More...</a><br /></td></tr>
<tr class="separator:ga0fbe1b486db5a555378f05f13cc08aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69ce99352641626e4ee218984d7ba5b2"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga69ce99352641626e4ee218984d7ba5b2">BspUtils_queDelete</a> (<a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *handle)</td></tr>
<tr class="memdesc:ga69ce99352641626e4ee218984d7ba5b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete queue handle.  <a href="#ga69ce99352641626e4ee218984d7ba5b2">More...</a><br /></td></tr>
<tr class="separator:ga69ce99352641626e4ee218984d7ba5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02c052e3c632cc68f045ed3eb485336b"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga02c052e3c632cc68f045ed3eb485336b">BspUtils_quePut</a> (<a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *handle, Ptr data, UInt32 timeout)</td></tr>
<tr class="memdesc:ga02c052e3c632cc68f045ed3eb485336b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a element into the queue.  <a href="#ga02c052e3c632cc68f045ed3eb485336b">More...</a><br /></td></tr>
<tr class="separator:ga02c052e3c632cc68f045ed3eb485336b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga743c0e0da6cb956a9cc610f38da4fc7e"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga743c0e0da6cb956a9cc610f38da4fc7e">BspUtils_queGet</a> (<a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *handle, Ptr *data, UInt32 minCount, UInt32 timeout)</td></tr>
<tr class="memdesc:ga743c0e0da6cb956a9cc610f38da4fc7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a element from the queue.  <a href="#ga743c0e0da6cb956a9cc610f38da4fc7e">More...</a><br /></td></tr>
<tr class="separator:ga743c0e0da6cb956a9cc610f38da4fc7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20ef40f657a7eac2f3bcc07a1b29f868"><td class="memItemLeft" align="right" valign="top">Int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga20ef40f657a7eac2f3bcc07a1b29f868">BspUtils_quePeek</a> (const <a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *handle, Ptr *data)</td></tr>
<tr class="memdesc:ga20ef40f657a7eac2f3bcc07a1b29f868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peek at the first element from the queue, but do not extract it.  <a href="#ga20ef40f657a7eac2f3bcc07a1b29f868">More...</a><br /></td></tr>
<tr class="separator:ga20ef40f657a7eac2f3bcc07a1b29f868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b00d3155213ee9415251cee10535d0b"><td class="memItemLeft" align="right" valign="top">UInt32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_s_p___d_r_v___u_t_i_l___a_q_u_e___a_p_i.html#ga9b00d3155213ee9415251cee10535d0b">BspUtils_queIsEmpty</a> (const <a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *handle)</td></tr>
<tr class="memdesc:ga9b00d3155213ee9415251cee10535d0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns TRUE is queue is empty else retunrs false.  <a href="#ga9b00d3155213ee9415251cee10535d0b">More...</a><br /></td></tr>
<tr class="separator:ga9b00d3155213ee9415251cee10535d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Implementation of a array based queue with support for optional blocking on queue empty or queue full. Interally takes care of critical section locking so that it can be used from task, ISR context without any additional mutex logic. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga76850d9bcd8094586c2eca412e9f9732"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPUTILS_QUE_FLAG_BLOCK_QUE&#160;&#160;&#160;((UInt32) 0x00000003U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block on que put if que is full, Block on que get if que is empty </p>

</div>
</div>
<a class="anchor" id="ga9a66ab266dfbcf7e0cb5b96bb3518011"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPUTILS_QUE_FLAG_BLOCK_QUE_GET&#160;&#160;&#160;((UInt32) 0x00000002U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block on que get if que is empty </p>

</div>
</div>
<a class="anchor" id="gac54a91a9514fbba3841ad18d153ba0c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPUTILS_QUE_FLAG_BLOCK_QUE_PUT&#160;&#160;&#160;((UInt32) 0x00000001U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block on que put if que is full </p>

</div>
</div>
<a class="anchor" id="ga0af150551f79e1d8d0f01856021a044c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSPUTILS_QUE_FLAG_NO_BLOCK_QUE&#160;&#160;&#160;((UInt32) 0x00000000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do not block on que get and que put, returns error if que is empty or full respectively </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga0fbe1b486db5a555378f05f13cc08aeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_queCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>maxElements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ptr&#160;</td>
          <td class="paramname"><em>queueMem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a queue handle. </p>
<p>The size of queueMem llocate by the user should be maxElements*sizeof(Ptr)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>[ O] Initialized queue handle </td></tr>
    <tr><td class="paramname">maxElements</td><td>[I ] Maximum elements that can reside in the queue at any given point of time </td></tr>
    <tr><td class="paramname">queueMem</td><td>[I ] Address of queue element data area </td></tr>
    <tr><td class="paramname">flags</td><td>[I ] BSPUTILS_QUE_FLAG_xxxx</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga69ce99352641626e4ee218984d7ba5b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_queDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete queue handle. </p>
<p>Releases all resources allocated during queue create</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>[I ] Queue handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga743c0e0da6cb956a9cc610f38da4fc7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_queGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ptr *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>minCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a element from the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>[I ] Queue Handle </td></tr>
    <tr><td class="paramname">data</td><td>[ O] extracted data element from the queue </td></tr>
    <tr><td class="paramname">minCount</td><td>[I ] Data will be extracted only if atleast 'minCount' elements are present in the queue </td></tr>
    <tr><td class="paramname">timeout</td><td>[I ] BIOS_NO_WAIT: non-blocking, if queue is empty error is returned <br />
 BIOS_WAIT_FOREVER: Blocking, if queue is empty function blocks until atleast 'minCount' elemetns in the queue are available</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga9b00d3155213ee9415251cee10535d0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt32 BspUtils_queIsEmpty </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns TRUE is queue is empty else retunrs false. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>[I ] Queue Handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns TRUE is queue is empty else retunrs FALSE </dd></dl>

</div>
</div>
<a class="anchor" id="ga20ef40f657a7eac2f3bcc07a1b29f868"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_quePeek </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ptr *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Peek at the first element from the queue, but do not extract it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>[I ] Queue Handle </td></tr>
    <tr><td class="paramname">data</td><td>[ O] "peeked" data element from the queue</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, else failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga02c052e3c632cc68f045ed3eb485336b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Int32 BspUtils_quePut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_bsp_utils___que_handle.html">BspUtils_QueHandle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ptr&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt32&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a element into the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>[I ] Queue Handle </td></tr>
    <tr><td class="paramname">data</td><td>[I ] data element to insert </td></tr>
    <tr><td class="paramname">timeout</td><td>[I ] BIOS_NO_WAIT: non-blocking, if queue is full error is returned <br />
 BIOS_WAIT_FOREVER: Blocking, if queue is full function blocks until atleast one element in the queue is free for inserting new element</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, else failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2019, Texas Instruments Incorporated</small>
</body>
</html>
